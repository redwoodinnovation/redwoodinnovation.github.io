<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" lang="en"></meta>
  <title>Cornell - OSM Data via Overpass</title>
  <script src="OpenLayers.js"></script>
  <script src="OpenStreetMap.js"></script>
  <script src="overpass.js"></script>
  <link rel="stylesheet" type="text/css" href="theme/default/style.css"> 
  <script type="text/javascript">
      var lat = 37.8896;
      var lon = -122.2955;
      var zoom = 19;
      var map;

      function init(){
          map = new OpenLayers.Map ("map", {
          controls:[],
              maxExtent: new OpenLayers.Bounds(-20037508.34,-20037508.34,20037508.34,20037508.34),
              maxResolution: 156543.0399,
              numZoomLevels: 1,
              units: 'm',
              projection: new OpenLayers.Projection("EPSG:900913"),
              displayProjection: new OpenLayers.Projection("EPSG:4326")
          } );

          layerMapnik = new OpenLayers.Layer.OSM.Mapnik("Mapnik");
          map.addLayer(layerMapnik);
          layerMapnik.setOpacity(0.5);

          var lonLat = new OpenLayers.LonLat(lon, lat)
              .transform(new OpenLayers.Projection("EPSG:4326"), new OpenLayers.Projection("EPSG:900913"));

          map.setCenter (lonLat, zoom);

          map.addLayers([
              make_layer("//overpass-api.de/api/interpreter?data=[timeout:35];node[amenity=school](bbox);out;(way[amenity=school](bbox);node(w););out;", "#222222"),
              make_layer("//overpass-api.de/api/interpreter?data=[timeout:35];node[building=school](bbox);out;(way[building=school](bbox);node(w););out;", "#222222"),
              make_layer("//overpass-api.de/api/interpreter?data=[timeout:35];node[highway=residential](bbox);out;(way[highway=residential](bbox);node(w););out;", "#222222"),
              make_layer("//overpass-api.de/api/interpreter?data=[timeout:35];node[highway=tertiary](bbox);out;(way[highway=tertiary](bbox);node(w););out;", "#222222"),
              make_layer("//overpass-api.de/api/interpreter?data=[timeout:35];node[natural=tree](bbox);out;(way[natural=tree](bbox);node(w););out;", "green")
          ]);
      }
  </script>
</head>
<body onload="init()">
  <!-- <div id="statusline" style="font-size:24pt; font-weight:bold; font-family:sans-serif">No status set yet.</div> -->
  <div id="map" class="smallmap" style="background-color: black;"></div>

</body>
</html>