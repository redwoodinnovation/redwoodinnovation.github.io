A GitHub webpage displaying:

- Polygons (areas): gardens, exercise facilities, buildings, etc.

- Circles (nodes): entrances (blue), barriers (red), individual entries in the "CO2 Crowdsense (Responses)" Google Sheet.

- Square (nodes): 

- Lines (ways): OSM roads and paths. 

## CO2 Sensor Data

- Outdoor Picarro CO2 dataata from 4pm, two days ago, is pulled into a Google Sheet via Google Apps Script each morning between 9 and 10 AM. Thease data are are stored in the "[Picarro 4PM](https://docs.google.com/spreadsheets/d/e/2PACX-1vT7Pfesayb3ZWqTwZC_tRmkTd_Q4xOb1LEumaloOSByqkxR_bCY5duYzvVfn8DuupaORpeKQ64zHzHR/pubhtml)" Google Sheet.

- CO2 - Crowdsense mobile CO2 ppm values are entered with the "CO2 Crowdsense" Google Form wherein participants enter co2 levels along with estimated lat, long stored in the "[CO2 Crowdsense (Responses)](https://docs.google.com/spreadsheets/d/e/2PACX-1vTT1AN5PpyoMPB2_IjV4RfPVRZCGMUTQN_uBEA_pgf6NbrelQ6tntjiysCeECEOoXwc5RuDyaP1DCB-/pubhtml?gid=768142103&single=true)" Google Sheet. They are displayed as 5 pixel radius circular nodes per the CO2 color gradient.

- Google Sheet data is displayed on the webpage as a table. The [Papa Parse](https://www.papaparse.com) library is used to parse the csv data which is queried from the google sheet.

## Resource Data

- Electricity (kWh), natural gas (kBTU), and water (gal) may be manually entered with the "Meter Reading Form" Google Form and are displayed as a circle node which changes size.
	- Note: Hidden in the current GitHub website.

## Geometry

- Map geometry and dynamic color and opacity fills are rendered with d3.js.

- Room polygons are geojson files stored in GitHub and are tagged as Level 0 (ground floor) or Level 1 (second floor) 

- Streets, the school grounds polygon, school building polygons, barriers and other OSM objects are generated by overpass api queries, converted to geojson, and stored in GitHub. The queries and subsequent conversions to geojson are called by a python script which is triggered by a GitHub Action cron schedule. In this example, the cron schedule initiates the queries every 8 hours. 

- The property line polygon is a geojson file stored in GitHub.  The Open Street Map school grounds (amenity=school) polygon is displayed.

- Tree and entrance node data are from OSM and are stored in local csv files.

- CO2 PPM color gradient SVG code is transparent to allow layering of data points and is generated by Inkscape. 

- Layer toggles are html + css.

## Instructions

- A bounding box is determined which captures the displayed area. This bounding box is used for the overpass api queries.

![Albany School Grounds in overpass-turbo.eu](images/albany-school-grounds.png)
